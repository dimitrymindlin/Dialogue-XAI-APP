comments = [{"timestamp": "2024-02-09T10:52:47.106Z", "feedback": "Dimi", "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-09T10:55:06.324Z", "feedback": "Dimi", "study_group": "static"}
    ,
            {"timestamp": "2024-02-21T14:22:20.628Z", "feedback": "", "study_group": "static"}
    ,
            {"timestamp": "2024-02-12T09:26:40.461Z", "feedback": "Dimi", "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-12T12:41:55.112Z", "feedback": "", "study_group": "static"}
    ,
            {"timestamp": "2024-02-12T09:28:16.894Z", "feedback": "Dimi", "study_group": "static"}
    ,
            {"timestamp": "2024-02-12T11:12:38.163Z",
             "feedback": "The experiment was fun and i learned a lot. :D\n\n\nI just wanted to say that i discovered a bug. At the question where you have to rank the questions from 1-7 if you select a rank for a question and then want to change it the old rank is not clickable.  \n\n",
             "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-22T08:30:01.352Z",
             "feedback": "I wish I did this study on PC and not on Android, since all informations were not displayed properly. Thanks:)",
             "study_group": "static"}
    ,
            {"timestamp": "2024-02-15T15:53:47.506Z",
             "feedback": "I  enjoyed the experiment, but the website was hard to use on a phone screen",
             "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-12T11:32:12.581Z",
             "feedback": "Regarding one question: When choosing the importance, it is not specified whether 1 or 7 is the most important.\nFor inpatient stays in hospitals, this could be implemented as a suitable extension, as the raw data is regularly recorded and stored. The same applies to doctors' surgeries.\nFor individual use, it would be important that more explanations are given and that there is always an introductory text.\nFurthermore, a recommendation could be made if it is unclear which further examinations should be carried out. Furthermore, more differentiation should be made between \"likely\" and \"unlikely\" and it should be written that \"x %\" in the comparison group actually have diabetes or an output of a probability.",
             "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-12T11:05:57.964Z", "feedback": "", "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-12T11:04:21.532Z", "feedback": "", "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-12T11:12:23.460Z", "feedback": "", "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-12T11:56:47.452Z",
             "feedback": "I think that the experiment was really helpful for me in understanding how a model weighs different attributes. What could have been nice in the beginning is a short summary what these attributes mean for the likelihood and which are good/bad.",
             "study_group": "static"}
    ,
            {"timestamp": "2024-02-21T14:23:13.765Z", "feedback": "", "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-12T11:19:58.527Z", "feedback": "", "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-19T09:55:57.133Z", "feedback": "", "study_group": "static"}
    ,
            {"timestamp": "2024-02-19T10:42:42.418Z", "feedback": "", "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-20T12:24:34.741Z",
             "feedback": "It was fun and it is an easy way to understand how AI works. I liked it!",
             "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-12T12:13:24.812Z",
             "feedback": "To me, the experiment was nice to understand how AI can help with decision like these.\nBut I would consider AI as a tool for a medical experts.\n\nThe data to decide if a person has diabetes should be recorded over time for a single person.",
             "study_group": "static"}
    ,
            {"timestamp": "2024-02-12T12:57:20.346Z",
             "feedback": "I am currently studying in Computer Science at the University in Bielefeld.\nI am former registered nurse and very interested in this field, if there are any opportunities to get involved, I would be more than happy.\nI'd like to add a full Blood Pressure measurement.\nSo its Sys/Dis , could be easier to understand.",
             "study_group": "static"}
    ,
            {"timestamp": "2024-02-12T15:08:37.652Z", "feedback": "", "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-12T15:11:08.727Z", "feedback": "", "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-12T15:46:56.664Z", "feedback": "", "study_group": "static"}
    ,
            {"timestamp": "2024-02-12T13:35:24.529Z",
             "feedback": "I think the experiment went wrong in the first 3 test patients. I got the same one 3 times and the explanation didn't make sense for the parameter of the patients. Maybe it was just a mistake :)",
             "study_group": "static"}
    ,
            {"timestamp": "2024-02-12T14:26:38.811Z", "feedback": "", "study_group": "static"}
    ,
            {"timestamp": "2024-02-13T09:55:11.612Z",
             "feedback": "The meaning of the different values was not very clear to me, maybe examples from healthy humans would have made it clearer in which range they are normal.",
             "study_group": "static"}
    ,
            {"timestamp": "2024-02-12T16:50:17.619Z",
             "feedback": "Its not a good idea to ask average people whether somebody has diabetes or not. Since we cant really interpret the data on a medical level. Also the formatting of the texts was a bti off.",
             "study_group": "static"}
    ,
            {"timestamp": "2024-02-23T14:42:24.833Z",
             "feedback": "To me, the experiment was interesting. I wasnt always sure if the chatbot acted truthfully, but the reason for that could be that I focused too much on the \"3 most important\" values BMI, glucose and pregnancies while ignocompletely ignoring the other values at the start. I think i would need more time and focus to get behind the chatbots decisions ",
             "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-12T16:49:07.729Z", "feedback": "", "study_group": "static"}
    ,
            {"timestamp": "2024-02-13T10:23:08.940Z",
             "feedback": "It was pretty interesting but i know VERY little about diabetes and therefore had to rely on my gut feeling even after reading the informtion ",
             "study_group": "static"}
    ,
            {"timestamp": "2024-02-13T18:00:02.529Z",
             "feedback": "Really nice Chatbot you got there. Was a really nice project :)",
             "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-16T13:42:38.475Z", "feedback": "", "study_group": "static"}
    ,
            {"timestamp": "2024-02-12T16:58:12.880Z", "feedback": "", "study_group": "static"}
    ,
            {"timestamp": "2024-02-13T11:43:13.475Z",
             "feedback": "It was kinda fun to try and figure out the correct answer. I didn't like it too much that we didnt get feedback if we chose the correct answer in all cases, especially the last 5 cases.",
             "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-16T13:42:23.380Z",
             "feedback": "I thought the survey showed me i was correct and predicted the same as the model in the first phase. I clicked unlikely and the model also said unlikely afterwards it said i got 1/5 correct, maybe i didnt look correctly but that seemed weird. ",
             "study_group": "static"}
    ,
            {"timestamp": "2024-02-21T14:27:05.896Z", "feedback": "", "study_group": "static"}
    ,
            {"timestamp": "2024-02-13T12:09:40.956Z", "feedback": "", "study_group": "static"}
    ,
            {"timestamp": "2024-02-12T18:10:01.131Z", "feedback": "", "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-13T22:37:55.056Z",
             "feedback": "The chatbots' answers confused me to some extent, leading me to form inaccurate predictions.",
             "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-14T10:01:05.864Z", "feedback": "", "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-12T19:05:37.585Z",
             "feedback": "Maybe i have used the chatbot wrong. Could we phrase our own questions or is it really just the pre-selected question blocks? If it is only the latter one, a bunch of pre-defined answers in regard to the question and the patients medical attributes would've done the job as well.\n\nExplaining the reasoning behind our prediction of the model (like the ones in the last part) to the chat bot and getting corrections/confirmations would be a neat idea too. ",
             "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-17T18:23:14.752Z", "feedback": "It was fun", "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-19T20:13:15.595Z",
             "feedback": "It was kinda hard to get an intuition for the decision process and the diffrent values.",
             "study_group": "static"}
    ,
            {"timestamp": "2024-02-15T14:37:40.863Z", "feedback": "", "study_group": "static"}
    ,
            {"timestamp": "2024-02-20T12:43:24.401Z", "feedback": "", "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-12T21:01:43.382Z",
             "feedback": "there is no explanation given at all how the parameters can be interpreted. ",
             "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-14T09:26:15.478Z",
             "feedback": "I think it could have helped me to know what kind of model I was dealing with (Neural Net, Logistic Regression, kNN). This could have helped me to understand how the model makes decisions.",
             "study_group": "static"}
    ,
            {"timestamp": "2024-02-13T14:43:36.451Z",
             "feedback": "In general, I really like the chatbot and that it's easy and intuitive to use, but it could do a better job at explaining what the values imply in the context of the application(e.g. what does it mean that insulin levels range from x to y and that the mean is z? what is a high or low level (medically)?, etc.)",
             "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-22T11:39:01.907Z", "feedback": "", "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-12T21:50:51.706Z",
             "feedback": "I really liked the experiment, I would just like to mention that, at least in my case, the task where you can select the rankings of the questions (1-7) did not work correctly when deselecting a ranking in case you change your mind, which is why I could not select a ranking for one of the questions.",
             "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-13T16:29:45.261Z",
             "feedback": "Why is there a gap in what the model predicts between the learning cases and the test cases?",
             "study_group": "static"}
    ,
            {"timestamp": "2024-02-13T16:28:59.863Z",
             "feedback": "Why do the learning cases differ so much from the test cases?", "study_group": "static"}
    ,
            {"timestamp": "2024-02-18T17:34:12.294Z",
             "feedback": "Sometimes the button is unresponsive, I tried to start the experiment thrice but only succeeded the last time",
             "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-20T18:08:30.456Z",
             "feedback": "i find decimal values their range and importance hard to remember\n", "study_group": "static"}
    ,
            {"timestamp": "2024-02-22T12:09:55.490Z",
             "feedback": "First I was a bit confused about the usability of the questions. One question appeared in the middle of my screen and the others within the Chatbot-Window. I first assumed it was an issue and didn't recognized that there were different questions. ",
             "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-21T14:35:01.503Z", "feedback": "", "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-23T14:49:30.989Z",
             "feedback": "Changing the order of how important the answers are ensures that you can no longer choose this number if you consider another question to be more important and therefore cannot include all questions in the ranking, because even if you take the number out of the slot it is still considered to be set and cannot even be reset to the same position ",
             "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-21T14:33:59.516Z",
             "feedback": "To me, the experiment was quite something new because I never really thought that deeply about diabetes. So now with all the questions I really had to think about it, what factors there are and how they contribute to tell if someone could have diabetes. It was really informative/ educational.",
             "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-21T13:31:04.319Z", "feedback": "Good luck with your research!",
             "study_group": "static"}
    ,
            {"timestamp": "2024-02-21T14:37:52.567Z", "feedback": "", "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-21T15:56:05.345Z", "feedback": "", "study_group": "static"}
    ,
            {"timestamp": "2024-02-21T14:01:03.409Z",
             "feedback": "I think this experiment was very interesting and it was my first time to be part of an experiment like this. When I had to evaluate the chatbot, I wished that I can write some comments, because just picking a number was not enough I think. All in all I had fun to do the experiment, thank you very much. ",
             "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-21T14:51:53.261Z", "feedback": "", "study_group": "static"}
    ,
            {"timestamp": "2024-02-21T15:20:16.842Z",
             "feedback": "I had to research in order to understand some of the table values (such as insulin levels etc.). \nIn a nutshell, it was quite interesting and touched upon subject matters I had no prior experience in (diabetes diagnosis, and development of AI models).",
             "study_group": "static"}
    ,
            {"timestamp": "2024-02-21T14:57:07.189Z", "feedback": "", "study_group": "static"}
    ,
            {"timestamp": "2024-02-22T17:08:09.930Z", "feedback": "", "study_group": "static"}
    ,
            {"timestamp": "2024-02-21T16:45:58.115Z",
             "feedback": "- Ranking the usefulness of pre-given chatbot questions broke, when trying to change the selection. I wanted to change my ranking around, but it did not reset unselected rankings. So once I used rankings 1,2,3,... it was no longer possible to unselect those and use them anywhere else instead (even in the same box they were previously occuping). This ultimately made it impossible to enter any ranking.\n\n- My top 4 in ranking would have been: 1. What are most important attributes?, 2. How do attributes influence the prediction?, 3. Is current value of this feature high or low?, 3. How should patient change to get different prediction?\n\n- For the first Agree/Disagree tab, it was unclear what was wanted for \"I can select -2 for this question\". Do you want me to select -2? Or should I strongly agree, that i can in fact select -2?\n\n- Mixing \"can\" and \"cannot\" questions a lot in Agree/Disagree rankings can get confusing quickly. It would have been easier to comprehend with a more consistent question-style.\n\n- Statements like \"I can succeed with the Chatbot\" or \"I like the Chatbot\" were a bit strange to Agree or Disagree with, to me. ",
             "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-22T18:09:04.562Z",
             "feedback": "I like the experiment. I think it was very interesting and i was very interested in the number of correct answers. It was also fun to do the experiment. ",
             "study_group": "static"}
    ,
            {"timestamp": "2024-02-21T18:01:20.578Z", "feedback": "", "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-23T15:18:12.676Z",
             "feedback": "The experiment was quite interesting. It was just a little difficult to understand how the patient values depend on each other.",
             "study_group": "interactive"}
    ,
            {"timestamp": "2024-02-22T00:02:55.970Z", "feedback": "", "study_group": "static"}
    ,
            {"timestamp": "2024-02-22T01:06:17.227Z", "feedback": "", "study_group": "interactive"}
    , ]

# get only the non-empty feedback
non_empty_feedback = [f["feedback"] for f in comments if f["feedback"] != ""]

# Split by interactive and static groups

interactive_feedback = [f["feedback"] for f in comments if f["feedback"] != "" and f["study_group"] == "interactive"]
static_feedback = [f["feedback"] for f in comments if f["feedback"] != "" and f["study_group"] == "static"]

# Save interactive and static feedback to separate files as csv and include header "Comment"
import csv

with open("interactive_feedback.csv", "w") as f:
    writer = csv.writer(f)
    writer.writerow(["Comment"])
    for feedback in interactive_feedback:
        writer.writerow([feedback])
with open("static_feedback.csv", "w") as f:
    writer = csv.writer(f)
    writer.writerow(["Comment"])
    for feedback in static_feedback:
        writer.writerow([feedback])

# print line by line
print("Interactive feedback:")
for feedback in interactive_feedback:
    print("-", feedback)
print(len(interactive_feedback))

print("\nStatic feedback:")
for feedback in static_feedback:
    print("-", feedback)
print(len(static_feedback))
# Use NLP to get talked about topics
